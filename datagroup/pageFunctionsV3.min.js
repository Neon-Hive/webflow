gsap.registerPlugin(ScrollTrigger,CustomEase),pageFunctions.addFunction("globalEase",function(){CustomEase.create("InOutQuart","0.77, 0, 0.175, 1"),CustomEase.create("inCubic","0.55, 0.055, 0.675, 0.19"),CustomEase.create("EaseOutSine","0.39, 0.575, 0.565, 1"),CustomEase.create("InOutCubic","0.645, 0.045, 0.355, 1"),CustomEase.create("SineIn","0.47, 0, 0.745, 0.715"),CustomEase.create("CubicOut","0.215, 0.61, 0.355, 1")}),pageFunctions.addFunction("globalSplit",function(){class t{constructor(e,t){if(!(e&&e instanceof HTMLElement))throw new Error("Invalid text element provided.");this.textElement=e,this.splitType=t,this.splitText=new SplitType(this.textElement,{types:t}),this.splitType.includes("lines")&&this.wrapLinesInParent()}reSplit(){this.splitText.split({types:this.splitType}),this.splitType.includes("lines")&&this.wrapLinesInParent()}wrapLinesInParent(){var e=this.getLines();e&&0!==e.length&&e.forEach(e=>{var t=document.createElement("div");t.classList.add("lines-wrap"),e.parentNode.insertBefore(t,e),t.appendChild(e)})}getChars(){return this.splitText.chars}getWords(){return this.splitText.words}getLines(){return this.splitText.lines}}window.TextEffectLines=class{constructor(e){if(!(e&&e instanceof HTMLElement))throw new Error("Invalid text element provided.");this.textElement=e,this.initializeEffect()}initializeEffect(){this.splitter=new t(this.textElement,"lines, chars"),this.scroll(),this.initResizeObserver()}scroll(){var e=this.splitter.getLines();0!==e.length&&e.forEach(e=>{e=new t(e,"chars").getChars();gsap.fromTo(e,{opacity:0},{opacity:1,ease:"EaseOutSine",stagger:{amount:.8},scrollTrigger:{trigger:this.textElement,start:"top 95%",end:"bottom 95%",toggleActions:"play none none none"}})})}initResizeObserver(){var e=((i,a)=>{let n;return function(...e){let t=this;clearTimeout(n),n=setTimeout(()=>i.apply(t,e),a)}})(()=>{window.innerWidth!==this.lastWidth&&(this.lastWidth=window.innerWidth,this.splitter.reSplit(),this.scroll())},300);window.addEventListener("resize",e),this.lastWidth=window.innerWidth}},window.CharsAnimation=class{constructor(e){if(!(e&&e instanceof HTMLElement))throw new Error("Invalid text element provided.");this.textElement=e,this.initializeEffect()}initializeEffect(){this.splitter=new t(this.textElement,"chars"),this.animate()}animate(){var e=this.splitter.getChars();0!==e.length&&gsap.fromTo(e,{opacity:0},{opacity:1,ease:"easeOut",duration:.2,stagger:{each:.1},scrollTrigger:{trigger:this.textElement,start:"top 95%",end:"bottom 95%",toggleActions:"play none none none"}})}};class i{constructor(e){if(!(e&&e instanceof HTMLElement))throw new Error("Invalid text element provided.");this.textElement=e,this.initializeEffect()}initializeEffect(){this.splitter=new t(this.textElement,"lines, chars")}}class a{constructor(e){if(!(e&&e instanceof HTMLElement))throw new Error("Invalid text element provided.");this.textElement=e,this.initializeEffect()}initializeEffect(){this.splitter=new t(this.textElement,"chars")}}document.querySelectorAll("[data-animation-rich='text-lines']").forEach(e=>{e.querySelectorAll("h1, h2, h3, h4, h5, h6, p").forEach(e=>{e.setAttribute("data-animation","text-lines")})}),document.querySelectorAll("[data-animation='text-lines']").forEach(e=>{new TextEffectLines(e)}),document.querySelectorAll("[data-animation='scramble']").forEach(e=>{new CharsAnimation(e)}),document.querySelectorAll("[data-split-lines]").forEach(e=>{new i(e)}),document.querySelectorAll("[data-split-chars]").forEach(e=>{new a(e)})},"globalEase","font-loaded"),pageFunctions.addFunction("pageTransition",function(){let i=document.querySelectorAll('[data-animation="header-heading"]'),a=document.querySelectorAll('[data-animation="header-text"]'),n=document.querySelector('[data-animation="nav-component"]'),e=document.querySelectorAll('[data-animation="header-next"]'),o=document.querySelectorAll('[data-animation="header-process"]'),s=document.querySelectorAll('[data-animation="header-button"]'),r=document.querySelectorAll('[data-animation="header-line"]'),t=document.querySelector(".transition_wrap");document.querySelectorAll(".transition_row_wrap");var l=document.querySelectorAll(".transition_block");function c(){let t=gsap.timeline();o&&(gsap.set(o,{visibility:"visible"}),t.fromTo(o,{opacity:0},{opacity:1,duration:1,ease:"sine.out"})),0<i.length&&i.forEach(e=>{gsap.set(e,{visibility:"visible"});e=e.querySelectorAll(".line"),e=new SplitType(e,{types:"chars",tagName:"span"}).chars;gsap.set(e,{opacity:0}),t.to(e,{opacity:1,duration:.8,ease:"sine.out",stagger:{amount:.8,from:"start"}},"<0.1")}),n&&(gsap.set(n,{visibility:"visible"}),t.fromTo(n,{opacity:0},{opacity:1,duration:.6,ease:"power1.out"},"<0.1")),0<a.length&&(gsap.set(a,{visibility:"visible"}),t.fromTo(a,{opacity:0},{opacity:1,duration:.9,ease:"sine.out"},"-=0.1")),0<s.length&&s.forEach(e=>{gsap.set(e,{visibility:"visible"}),t.fromTo(e,{scale:.8},{scale:1,duration:.6,ease:"sine.out"},"<").fromTo(e,{opacity:0},{opacity:1,duration:.6,ease:"cubic.out"},"<0.1")}),e&&(gsap.set(e,{visibility:"visible"}),t.fromTo(e,{opacity:0},{opacity:1,duration:.8,ease:"power1.out"},"<0.2"))}gsap.timeline({onComplete:()=>{gsap.set(t,{display:"none"})}}).set(l,{visibility:"visible"}).to(l,{opacity:0,duration:.1,ease:"power2.out",stagger:{amount:.75,from:"random"}}).add(()=>{var e=$("body").data("page");if(e)switch(e){case"header-main":c();break;case"header-secondary":(()=>{let t=gsap.timeline();0<i.length&&i.forEach(e=>{gsap.set(e,{visibility:"visible"});e=e.querySelectorAll(".line"),e=new SplitType(e,{types:"chars",tagName:"span"}).chars;gsap.set(e,{opacity:0}),t.to(e,{opacity:1,duration:.8,ease:"sine.out",stagger:{amount:.8,from:"start"}})}),n&&(gsap.set(n,{visibility:"visible"}),t.fromTo(n,{opacity:0},{opacity:1,duration:.6,ease:"power1.out"},"<")),0<r.length&&r.forEach(e=>{gsap.set(e,{visibility:"visible"}),t.fromTo(e,{width:"0%"},{width:"100%",duration:1,ease:"InOutQuart"},"-=0.1")}),0<a.length&&(gsap.set(a,{visibility:"visible"}),t.fromTo(a,{opacity:0},{opacity:1,duration:.9,stagger:.2,ease:"EaseOutSine"},"-=0.1")),0<s.length&&s.forEach(e=>{gsap.set(e,{visibility:"visible"}),t.fromTo(e,{scale:.8},{scale:1,duration:.6,ease:"EaseOutSine"},"<").fromTo(e,{opacity:0},{opacity:1,duration:.6,ease:"EaseOutCubic"},"<0.1")})})();break;case"header-third":(()=>{let t=gsap.timeline();0<i.length&&i.forEach(e=>{gsap.set(e,{visibility:"visible"});e=e.querySelectorAll(".line"),e=new SplitType(e,{types:"chars",tagName:"span"}).chars;gsap.set(e,{opacity:0}),t.to(e,{opacity:1,duration:.8,ease:"sine.out",stagger:{amount:.8,from:"start"}})}),n&&(gsap.set(n,{visibility:"visible"}),t.fromTo(n,{opacity:0},{opacity:1,duration:.6,ease:"power1.out"},"<")),0<a.length&&(gsap.set(a,{visibility:"visible"}),t.fromTo(a,{opacity:0},{opacity:1,duration:.9,stagger:.2,ease:"EaseOutSine"},"-=0.1")),0<s.length&&s.forEach(e=>{gsap.set(e,{visibility:"visible"}),t.fromTo(e,{scale:.8},{scale:1,duration:.6,ease:"EaseOutSine"},"<").fromTo(e,{opacity:0},{opacity:1,duration:.6,ease:"EaseOutCubic"},"<0.1")})})()}else c()},"-=0.4"),$("a:not(.excluded-class)").on("click",function(e){let t=$(this).attr("href");$(this).prop("hostname")!==window.location.host||t.includes("#")||"_blank"===$(this).attr("target")||(e.preventDefault(),gsap.timeline({onComplete:()=>{window.location.href=t}}).set(".transition_wrap",{display:"flex"}).set(".transition_block",{visibility:"visible"}).to(".transition_block",{opacity:1,duration:.3,ease:"power2.out",stagger:{amount:.5,from:"random"}}))}),window.onpageshow=function(e){e.persisted?window.location.reload():pageFunctions.addFunction("pageTransition")}},["globalSplit","globalEase","font-loaded"]),pageFunctions.addFunction("globalAnimation",function(){var e=document.querySelectorAll("[data-animation=in-view]"),t=document.querySelectorAll("[data-animation=in-view-d1]"),i=document.querySelectorAll("[data-animation=in-view-d2]"),a=document.querySelectorAll("[data-animation=in-view-d3]"),n=document.querySelectorAll("[data-animation=in-view-stagger]"),o=document.querySelectorAll("[data-animation=in-view-line]");0<e.length&&e.forEach(function(e){var t=gsap.timeline({paused:!0});t.from(e,{opacity:0,duration:.8,ease:"EaseOutSine"}),ScrollTrigger.create({trigger:e,start:"top 93%",toggleActions:"play none none none",animation:t})}),0<t.length&&t.forEach(function(e){var t=gsap.timeline({paused:!0});t.from(e,{delay:.1,opacity:0,duration:.8,ease:"EaseOutSine"}),ScrollTrigger.create({trigger:e,start:"top 93%",toggleActions:"play none none none",animation:t})}),0<i.length&&i.forEach(function(e){var t=gsap.timeline({paused:!0});t.from(e,{delay:.2,opacity:0,duration:.8,ease:"EaseOutSine"}),ScrollTrigger.create({trigger:e,start:"top 93%",toggleActions:"play none none none",animation:t})}),0<a.length&&a.forEach(function(e){var t=gsap.timeline({paused:!0});t.from(e,{delay:.4,opacity:0,duration:.8,ease:"EaseOutSine"}),ScrollTrigger.create({trigger:e,start:"top 93%",toggleActions:"play none none none",animation:t})}),0<n.length&&n.forEach(function(e){var t=e.children;gsap.timeline({scrollTrigger:{trigger:e,start:"top 93%",toggleActions:"play none none none"}}).from(t,{opacity:0,duration:1,y:"4rem",ease:"InOutCubic",stagger:.1})}),0<o.length&&o.forEach(e=>{var t=gsap.timeline({paused:!0});t.from(e,{width:"0%",duration:1.2,ease:"InOutQuart"}),ScrollTrigger.create({trigger:e,start:"top 93%",toggleActions:"play none none none",animation:t})})}),pageFunctions.addFunction("buttonTextHover",function(){gsap.matchMedia().add("(pointer: fine)",()=>{document.querySelectorAll("[data-hover=button-text]").forEach(e=>{let t=e.querySelector("[data-hover=button-line]");t&&(gsap.set(t,{x:"-101%"}),e.addEventListener("mouseenter",()=>{gsap.to(t,{x:"0%",duration:.4,ease:"power2.out"})}),e.addEventListener("mouseleave",()=>{gsap.to(t,{x:"100%",duration:.4,ease:"power2.in",onComplete:()=>{gsap.set(t,{x:"-101%"})}})}))})})}),pageFunctions.addFunction("buttonHover",function(){window.matchMedia("(pointer: fine)").matches&&document.querySelectorAll("[data-button='hover']").forEach(e=>{let t=e.querySelector("[data-button-animation=text]");if(t){let a=!1;var i=t.textContent.split("").map(e=>" "===e?" ":`<span style="opacity: 1; display: inline-block;">${e}</span>`);t.innerHTML=i.join(""),e.addEventListener("mouseenter",()=>{if(gsap.killTweensOf(e),gsap.to(e,{scale:1.05,duration:.6,ease:"CubicOut"}),!a){a=!0;let i=t.querySelectorAll("span");i.forEach((e,t)=>{gsap.to(e,{opacity:0,yoyo:!0,repeat:1,duration:.2,delay:.02*t,onComplete:()=>{t===i.length-1&&(a=!1)}})})}}),e.addEventListener("mouseleave",()=>{gsap.killTweensOf(e),gsap.to(e,{scale:1,duration:.3,ease:"SineIn"})})}})}),pageFunctions.addFunction("lazyVideo",function(){var i,e=[].slice.call(document.querySelectorAll("[data-video=lazy]"));"IntersectionObserver"in window&&(i=new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){for(var t in e.target.children){t=e.target.children[t];"string"==typeof t.tagName&&"SOURCE"===t.tagName&&(t.src=t.dataset.src)}e.target.load(),i.unobserve(e.target)}})}),e.forEach(function(e){i.observe(e)}))}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("[data-calendly='true']").forEach(e=>{e.addEventListener("click",function(){Calendly.initPopupWidget({url:"https://calendly.com/graeve"})})})});