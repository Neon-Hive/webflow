gsap.registerPlugin(ScrollTrigger,CustomEase,ScrambleTextPlugin),pageFunctions.addFunction("globalEase",function(){CustomEase.create("sineInOut","0.445, 0.05, 0.55, 0.95"),CustomEase.create("cubincInOut","0.645, 0.045, 0.355, 1"),CustomEase.create("quartInOut","0.77, 0, 0.175, 1")}),pageFunctions.addFunction("globalLenis",function(){let r=new Lenis({direction:"vertical",gestureDirection:"vertical",smooth:!0,lerp:.05,wheelMultiplier:.9,mouseMultiplier:.9,smoothTouch:!1,touchMultiplier:1.5,infinite:!1}),e=(window.lenis=r,window.lenisRunning=!0,r.start.bind(r)),t=r.stop.bind(r);r.start=function(){window.lenisRunning=!0,e()},r.stop=function(){window.lenisRunning=!1,t()},requestAnimationFrame(function e(t){r.raf(t),requestAnimationFrame(e)}),document.querySelectorAll("[data-lenis-start=true]").forEach(e=>{e.addEventListener("click",()=>r.start())}),document.querySelectorAll("[data-lenis-stop=true]").forEach(e=>{e.addEventListener("click",()=>r.stop())}),document.querySelectorAll("[data-lenis-toggle]").forEach(e=>{e.addEventListener("click",function(){this.classList.toggle("stop-scroll"),this.classList.contains("stop-scroll")?r.stop():r.start()})})}),pageFunctions.addFunction("navigation",function(){let r=document.querySelector(".nav_wrap"),o=document.querySelector(".nav_fill"),a=window.scrollY,e=null,n=!0,i=30<a;function t(){var e=window.scrollY,t=Math.abs(e-a);5<t&&(e>a&&n&&10<t?(r.style.transform="translateY(-100%)",n=!1):e<a&&!n&&(r.style.transform="translateY(0)",n=!0),a=e),30<e&&!i?(o.style.clipPath="polygon(0 0, 100% 0%, 100% 100%, 0% 100%)",i=!0):e<=30&&i&&(o.style.clipPath="polygon(0 0, 100% 0%, 100% 0%, 0% 0%)",i=!1)}function l(){e&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame(t)}return r.style.transition="transform 0.3s cubic-bezier(0.645, 0.045, 0.355, 1.000)",o.style.transition="clip-path 0.5s cubic-bezier(0.77, 0, 0.175, 1)",window.addEventListener("scroll",l,{passive:!0}),t(),function(){window.removeEventListener("scroll",l),e&&window.cancelAnimationFrame(e)}}),pageFunctions.addFunction("header",function(){if("undefined"==typeof gsap||"undefined"==typeof ScrollTrigger||"undefined"==typeof SplitType)console.error("GSAP, ScrollTrigger, or SplitType not loaded");else{gsap.registerPlugin(ScrollTrigger),window.lenis&&window.lenisRunning&&window.lenis.stop(),document.body.style.overflow="hidden";let t=document.querySelector(".header_height");var e=document.querySelector(".nav_component");let r=document.querySelector(".header_visual_driver"),o=document.querySelector(".header_visual_clip"),a=document.querySelector(".header_visual_bg"),n=document.querySelector(".header_block1");var u,s=n?.querySelector(".header_subtitle"),d=n?.querySelector(".header_heading"),p=n?.querySelector(".header_text"),g=n?.querySelector(".btn_main_wrap");let i=document.querySelector(".header_block2"),l=i?.querySelectorAll(".header_heading2"),c=i?.querySelector(".header_text2");t&&r&&a&&n?(0<(u=document.querySelectorAll("[data-header-split]")).length&&new SplitType(u,{types:"words, chars",tagName:"span"}),u=gsap.timeline({onComplete:function(){document.body.style.overflow="",window.lenis&&!window.lenisRunning&&(window.lenis.start(),window.lenisRunning=!0),i&&gsap.set(i,{visibility:"visible",opacity:0}),o&&gsap.set(o,{visibility:"visible",scale:0,clipPath:"polygon(25% 0%, 100% 0%, 75% 100%, 0% 100%)"});var e=gsap.timeline({scrollTrigger:{trigger:t,start:"top top",end:"bottom bottom",scrub:!0,markers:!1}});if(e.to(n,{opacity:0,filter:"blur(5px)",duration:.1},.1),e.to([a,r],{scale:1,opacity:0,duration:.3},.3),i){if(e.to(i,{opacity:1,duration:.05},.5),l&&0<l.length){let t=[];l.forEach(e=>{e=e.querySelectorAll(".word");0<e.length&&e.forEach(e=>t.push(e))}),0<t.length&&e.from(t,{opacity:0,filter:"blur(5px)",duration:.6,stagger:.1,ease:"power4.out"},.5)}c&&e.from(c,{opacity:0,duration:.2,ease:"power3.out"},.7)}o&&e.to(o,{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",scale:1,duration:.4},.45)}}),gsap.set([r,a,n,e],{visibility:"visible"}),u.from(a,{opacity:0,scale:1.4,duration:4,ease:"sineInOut"}),u.from(r,{opacity:0,scale:1.2,duration:4,ease:"sineInOut"},"<1"),s&&e&&u.from([s,e],{opacity:0,duration:1.2,ease:"sineInOut"},"-=3"),d&&0<d.querySelectorAll(".word").length&&u.from(d.querySelectorAll(".word"),{opacity:0,filter:"blur(5px)",duration:1.2,stagger:.2,ease:"sineInOut"},"<0.1"),p&&g&&u.from([p,g],{opacity:0,filter:"blur(5px)",duration:1,stagger:.5,ease:"sineInOut"},"<0.3")):console.error("One or more header elements not found")}}),pageFunctions.addFunction("blockReveal",function(){if("undefined"==typeof gsap||"undefined"==typeof ScrollTrigger)console.error("GSAP or ScrollTrigger is not loaded. Please include them in your project.");else{var e=gsap.matchMedia();let i=[];e.add("(min-width: 992px)",()=>{var e=document.querySelectorAll(".block_sticky");if(e.length)return e.forEach(t=>{var r=t.querySelector(".block_contain_wrap");if(r){gsap.set(r,{rotationZ:-18,xPercent:100,yPercent:100,force3D:!0});var o=ScrollTrigger.create({trigger:t,start:"top bottom",end:"top top",scrub:.5,markers:!1,immediateRender:!1,animation:gsap.timeline().to(r,{rotationZ:0,xPercent:0,yPercent:0,ease:"power2.out"})}),o=(i.push(o),r.querySelectorAll(".block_body_heading")),a=r.querySelector(".block_body_paragraph"),n=r.querySelectorAll(".block_body_item"),r=r.querySelector(".block_body_svg");o.length&&gsap.set(o,{opacity:0,filter:"blur(5px)"}),a&&gsap.set(a,{opacity:0,filter:"blur(5px)"}),n.length&&(gsap.set(n,{opacity:0}),n.forEach(e=>{e=e.closest(".block_body_line");e&&gsap.set(e,{width:0})})),r&&gsap.set(r,{opacity:0});let e=gsap.timeline({paused:!0,defaults:{duration:.8,ease:"sineInOut"}});if(o.length&&e.to(o,{opacity:1,filter:"blur(0px)",duration:.8}),a&&e.to(a,{opacity:1,filter:"blur(0px)",duration:.8},"-=0.4"),r&&e.to(r,{opacity:1,duration:.5},"-=0.4"),n.length){let t=new Set;n.forEach(e=>{e=e.closest(".block_body_line");e&&t.add(e)}),e.to(Array.from(t),{width:"100%",duration:.8,stagger:.15,ease:"cubicInOut"},"-=0.2"),e.to(n,{opacity:1,duration:.5,stagger:.08},"-=0.4")}o=ScrollTrigger.create({trigger:t,start:"top center",onEnter:()=>e.play(),onLeaveBack:()=>e.reverse()});i.push(o)}}),()=>{i.forEach(e=>e.kill())}}),e.add("(max-width: 991px)",()=>{let a=[];return document.querySelectorAll(".block_contain").forEach(e=>{var t=e.querySelectorAll(".block_body_heading"),r=e.querySelector(".block_body_paragraph"),o=e.querySelectorAll(".block_body_item"),e=e.querySelector(".block_body_svg");t.length&&t.forEach(e=>{gsap.set(e,{opacity:0});e=ScrollTrigger.create({trigger:e,start:"top 90%",toggleActions:"play none none reverse",animation:gsap.to(e,{opacity:1,duration:.8,ease:"sineInOut"})});a.push(e)}),r&&(gsap.set(r,{opacity:0}),t=ScrollTrigger.create({trigger:r,start:"top 90%",toggleActions:"play none none reverse",animation:gsap.to(r,{opacity:1,duration:.8,ease:"sineInOut"})}),a.push(t)),e&&(gsap.set(e,{opacity:0,scale:.9}),r=ScrollTrigger.create({trigger:e,start:"top 90%",toggleActions:"play none none reverse",animation:gsap.to(e,{opacity:1,scale:1,duration:.8,ease:"sineInOut"})}),a.push(r)),o.length&&o.forEach(e=>{gsap.set(e,{opacity:0});e=ScrollTrigger.create({trigger:e,start:"top 90%",toggleActions:"play none none reverse",animation:gsap.to(e,{opacity:1,duration:.8,ease:"sineInOut"})});a.push(e)})}),()=>{a.forEach(e=>e.kill())}})}}),pageFunctions.addFunction("popup",function(){let t=document.querySelector(".popup_component"),r=document.querySelector(".popup_btn_wrap");var e=document.querySelector(".popup_close"),o=document.querySelector("[data-section-contact]");gsap.set(t,{visibility:"visible",xPercent:100,force3D:!0});let a=!1;function n(){gsap.to(t,{xPercent:100,duration:.6,ease:"quartInOut"}),window.lenis&&window.lenis.start(),document.body.style.overflow="",a=!1}function i(){gsap.to(r,{xPercent:-100,duration:.4,ease:"quartInOut"})}function l(){gsap.to(r,{xPercent:0,duration:.4,ease:"quartInOut"})}r.addEventListener("click",function(){a?n():(gsap.to(t,{xPercent:0,duration:1.2,ease:"quartInOut"}),window.lenis&&window.lenis.stop(),document.body.style.overflow="hidden",a=!0)}),e.addEventListener("click",n),document.addEventListener("click",function(e){t.contains(e.target)||r.contains(e.target)||!a||n()}),o&&ScrollTrigger.create({trigger:o,start:"top center",end:"bottom bottom",onEnter:i,onLeave:l,onEnterBack:i,onLeaveBack:l})}),pageFunctions.addFunction("horizontal",function(){document.querySelectorAll(".horizontal_wrap").forEach(function(t){t.querySelector(".horizontal_inner");let e=t.querySelector(".horizontal_track");var r=t.querySelectorAll("[data-marquee=component]");let o=t.querySelector(".horizontal_marquee_contain"),a=t.querySelector(".horizontal_marquee_text"),n;function i(){t.style.height=`calc(${e.offsetWidth}px + 100vh)`,o&&a&&(o.style.height=a.offsetHeight+"px")}i(),ScrollTrigger.refresh();var l,c;function u(...e){clearTimeout(n),n=setTimeout(()=>l(...e),c)}l=()=>{i(),ScrollTrigger.refresh()},c=200;window.addEventListener("resize",u);let s=gsap.timeline({scrollTrigger:{trigger:t,start:"top top",end:"bottom bottom",scrub:.5},defaults:{ease:"none"}}),d=(s.to(e,{xPercent:-100}),gsap.set([r[1],r[2]],{yPercent:100,force3D:!0}),gsap.set([r[0]],{yPercent:0,force3D:!0}),gsap.timeline({scrollTrigger:{trigger:t.querySelector("[data-horizontal-item='2']"),containerAnimation:s,start:"left center",toggleActions:"play none none reverse"}})),p=(d.to(r[0],{duration:.8,ease:"cubincInOut",yPercent:-100},0),d.to(r[1],{duration:.8,ease:"cubincInOut",yPercent:0},0),d.to(r[2],{duration:.8,ease:"cubincInOut",yPercent:100},0),gsap.timeline({scrollTrigger:{trigger:t.querySelector("[data-horizontal-item='3']"),containerAnimation:s,start:"left center",toggleActions:"play none none reverse"}}));return d.to(r[0],{duration:.8,ease:"cubincInOut",yPercent:-100},0),p.to(r[1],{duration:.8,ease:"cubincInOut",yPercent:-100},0),p.to(r[2],{duration:.8,ease:"cubincInOut",yPercent:0},0),function(){clearTimeout(n),window.removeEventListener("resize",u),ScrollTrigger.getAll().forEach(e=>{e.vars.trigger===t&&e.kill()}),[s,d,p].forEach(e=>e?.kill())}})}),pageFunctions.addFunction("marquee",function(){function t(){ScrollTrigger.getAll().forEach(e=>{e.vars.trigger&&e.vars.trigger.closest&&e.vars.trigger.closest('[data-marquee="component"]')&&e.kill()}),gsap.getTweensOf('[data-marquee="track"]').forEach(e=>e.kill()),document.querySelectorAll('[data-marquee="component"]').forEach(a=>{var t=a.querySelector('[data-marquee="track"]:not([data-marquee-clone="true"])'),n=a.querySelector('[data-marquee="wrap"]');if(t&&n){var{marqueeSpeed:i,marqueeDirection:l,marqueeOnScroll:c}=a.dataset,i=parseFloat(i);let r="right"===l?1:-1,e;e=window.innerWidth<479?.25:window.innerWidth<991?.5:1920<window.innerWidth?2:1;var l=t.offsetWidth,u=window.innerWidth,s=2*u/l,s=s%1<=.5?Math.floor(s):Math.ceil(s),d=Math.max(1,s),s=i*(l/u)*e;if(n.querySelectorAll('[data-marquee-clone="true"]').forEach(e=>{e.remove()}),0<d){var p=document.createDocumentFragment();for(let e=0;e<d;e++){var g=t.cloneNode(!0);g.setAttribute("aria-hidden","true"),g.setAttribute("data-marquee-clone","true"),p.appendChild(g)}n.appendChild(p)}i=a.querySelectorAll('[data-marquee="track"]');gsap.set(i,{clearProps:"all"});let o=gsap.to(i,{xPercent:-100,repeat:-1,duration:s,ease:"linear"}).totalProgress(.5);gsap.set(i,{xPercent:1==r?100:-100}),o.timeScale(r),o.play(),a.setAttribute("data-marquee-status","normal"),"true"===c&&ScrollTrigger.create({trigger:a,start:"top bottom",end:"bottom top",onUpdate:e=>{var e=1===e.direction,t=e?-r:r;o.timeScale(t),a.setAttribute("data-marquee-status",e?"normal":"inverted")}})}})}t();let e,r,a=window.innerWidth;window.addEventListener("resize",()=>{r=!0,clearTimeout(e),e=setTimeout(()=>{if(window.innerWidth!==a){let r=a,e=(a=window.innerWidth,document.querySelectorAll('[data-marquee="component"]')),o=!1;e.forEach(e=>{var t,e=e.querySelector('[data-marquee="track"]:not([data-marquee-clone="true"])');e&&(e=e.offsetWidth,t=2*r/e,e=2*window.innerWidth/e,t=t%1<=.5?Math.floor(t):Math.ceil(t),e=e%1<=.5?Math.floor(e):Math.ceil(e),Math.max(1,t)!==Math.max(1,e))&&(o=!0)}),o&&gsap.to(e,{opacity:0,duration:.2,onComplete:()=>{e.forEach(e=>{var t=e.querySelector('[data-marquee="wrap"]'),e=e.querySelector('[data-marquee="track"]:not([data-marquee-clone="true"])');t&&e&&(gsap.set(e,{clearProps:"all"}),t.querySelectorAll('[data-marquee-clone="true"]').forEach(e=>{e.remove()}))}),t(),gsap.to(e,{opacity:1,duration:.2})}})}},500)},{passive:!0})}),pageFunctions.addFunction("globalAnimation",function(){var e=document.querySelectorAll("[data-animation-gsap]");0<e.length&&e.forEach(function(e){var t=e.getAttribute("data-animation-gsap"),r=parseFloat(e.getAttribute("data-delay-gsap")||0),o=parseFloat(e.getAttribute("data-duration-gsap")||.8),a=gsap.timeline({paused:!0});switch(t){case"fade-in":a.from(e,{opacity:0,duration:o,delay:r,ease:"sineInOut"});break;case"fade-blur":a.from(e,{opacity:0,filter:"blur(5px)",duration:o,delay:r,ease:"sineInOut"});break;case"fade-in-up":a.from(e,{opacity:0,y:"1rem",duration:o,delay:r,ease:"sineInOut"});break;case"scale-in":a.from(e,{opacity:0,scale:.8,duration:o,delay:r,ease:"power1.out"});break;case"width":a.from(e,{width:"0%",duration:o,delay:r,ease:"cubincInOut"});break;case"stagger-children":var n=e.children;a.from(n,{opacity:0,filter:"blur(5px)",duration:o,stagger:.2,delay:r,ease:"sineInOut"});break;default:a.from(e,{opacity:0,duration:o,delay:r,ease:"sineInOut"})}ScrollTrigger.create({trigger:e,start:"top 95%",toggleActions:"play none none none",animation:a})}),document.querySelectorAll("[data-button-hover='text']").forEach(o=>{{let r=o.querySelector("[data-button-text=target]");if(r){let e=!1,t=r.textContent;r.setAttribute("data-original-text",t),o.addEventListener("mouseenter",()=>{e||(e=!0,gsap.to(r,{scrambleText:{chars:"upperCase",speed:.8,text:t,delimiter:"",revealDelay:0},duration:1.6,onComplete:()=>{e=!1,r.textContent=t}}))}),o.addEventListener("mouseleave",()=>{gsap.delayedCall(1.6,()=>{r.textContent=t})}),r.textContent=t}}})}),pageFunctions.addFunction("globalRefreshTriggers",function(){let r=document.documentElement.clientWidth,o=document.documentElement.clientHeight;var e=((t,r)=>{let o;return function(...e){clearTimeout(o),o=setTimeout(()=>t.apply(this,e),r)}})(function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;e===r&&t===o||(ScrollTrigger.refresh(),r=e,o=t)},300);setInterval(e,300)}),pageFunctions.addFunction("footerReveal",function(){var e=document.querySelectorAll("[data-footer-line]"),t=document.querySelectorAll("[data-footer-label]"),r=document.querySelectorAll("[data-footer-fade]"),o=document.querySelectorAll("[data-footer-email]"),a=document.querySelectorAll("[data-footer-stagger1]"),n=document.querySelectorAll("[data-footer-stagger2]"),i=document.querySelector(".footer_svg"),i=i?Array.from(i.querySelectorAll("path")):[];let l=gsap.timeline({scrollTrigger:{trigger:".footer_wrap",start:"top top",toggleActions:"play none none none",markers:!1}});return 0<i.length&&l.fromTo(i,{opacity:0,filter:"blur(5px)"},{opacity:1,filter:"blur(0px)",duration:.8,stagger:{each:.15,from:"random"},ease:"sineInOut"}),l.fromTo(r,{opacity:0},{opacity:1,duration:.6,stagger:.2,ease:"sineInOut"},"-=0.2"),l.fromTo(o,{opacity:0,filter:"blur(5px)"},{opacity:1,filter:"blur(0px)",duration:.8,ease:"sineInOut"},"<"),a.forEach(e=>{e=Array.from(e.children);e.reverse(),l.fromTo(e,{opacity:0,filter:"blur(5px)"},{opacity:1,filter:"blur(0px)",duration:.4,stagger:{each:.1},ease:"sineInOut"})},"<"),n.forEach(e=>{e=Array.from(e.children);e.reverse(),l.fromTo(e,{opacity:0,filter:"blur(5px)"},{opacity:1,filter:"blur(0px)",duration:.4,stagger:{each:.1},ease:"sineInOut"})},"<"),l.fromTo(e,{width:"0%"},{width:"100%",duration:1.6,ease:"cubicInOut"},"<0.2"),l.fromTo(t,{opacity:0,filter:"blur(5px)"},{opacity:1,filter:"blur(0px)",duration:.8,stagger:{each:.1},ease:"sineInOut"},"<"),l}),pageFunctions.addFunction("themeChange",function(){document.querySelectorAll("[data-animate-theme-to]").forEach(function(e){let t=e.getAttribute("data-animate-theme-to");ScrollTrigger.create({trigger:e,start:"top center",end:"bottom center",onToggle:({isActive:e})=>{e&&gsap.to("body",{...colorThemes.getTheme(t),duration:.8,ease:"sineInOut"})}})})}),pageFunctions.addFunction("reality",function(){var e=document.querySelector(".reality_visual_inner"),t=document.querySelector(".reality_block1_wrap"),r=document.querySelector(".reality_block2_wrap"),o=document.querySelector(".reality_block3_wrap"),a=document.querySelector(".reality_block4_wrap"),n=(gsap.set([t,r,o,a,e],{visibility:"visible"}),{trigger:".reality_height",start:"top top",end:"bottom bottom",scrub:!0});gsap.timeline({scrollTrigger:n}).to(e,{opacity:.2},0).to(e,{rotateZ:360,duration:1},.3).to(e,{opacity:.4,duration:.3},.3).to(e,{opacity:1,duration:.2},.5).to(e,{scale:1.8,opacity:.4,duration:.2},.7),gsap.timeline({scrollTrigger:n}).from(t,{opacity:0,duration:.15},0).to(t,{opacity:0,duration:.1},.15).from(r,{filter:"blur(5px)",opacity:0,duration:.15},.25).to(r,{opacity:0,duration:.1},.4).from(o,{opacity:0,duration:.15},.5).to(o,{opacity:0,duration:.1},.65).from(a,{filter:"blur(5px)",opacity:0,duration:.125},.75)});