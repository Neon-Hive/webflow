function decodeHtmlEntities(t){var e;return t?((e=document.createElement("textarea")).innerHTML=t,e.value):""}function toPlainLower(t){return String(t||"").trim().toLowerCase().replace(/[^a-z0-9&.\-_, |]+/g,"")}function getUrlSegment(t){return(location.pathname.split("/").filter(Boolean)[t-1]||"").split(".")[0]}function getUserECID(){if("undefined"!=typeof Visitor&&Visitor.getInstance)return Visitor.getInstance("cedarssinai")?.getMarketingCloudVisitorID?.()}function getUserECIDAsync(a=5e3,i=100){return new Promise(e=>{let o=Date.now(),n=()=>{var t=getUserECID();t?e(t):(t=Date.now()-o,a<=t?e(void 0):setTimeout(n,i))};n()})}document.addEventListener("DOMContentLoaded",()=>{let e=Array.from(document.querySelectorAll("[data-adobe-tags-list] [data-component-title]")).map(t=>toPlainLower(t.getAttribute("data-component-title"))).filter(Boolean).join("|"),t=0;var o=document.querySelector("[data-n4-rich-text]");o&&(o=o.textContent||"",t=o.split(/\s+/).filter(Boolean).length);let n=0<t?100*Math.round(t/100):0,a=Array.from(document.querySelectorAll("[data-cta-type='provider'], [data-cta-type='cta']")).map(t=>toPlainLower(t.getAttribute("data-cta-name")?.trim())).filter(Boolean).join("|");getUserECIDAsync().then(t=>{t={event:"pageView",ecid:t||void 0,navigation:{domain:location.hostname,siteSection:getUrlSegment(1),siteSubsection1:getUrlSegment(2),siteSubsection2:getUrlSegment(3),siteSubsection3:getUrlSegment(4),siteSubsection4:getUrlSegment(5),pageURL:location.href,refURL:document.referrer||""},pageName:"cs-org:cedars-sinai:"+location.pathname.substring(1).replaceAll("/",":").split(".")[0],pageTitle:toPlainLower((t=document.querySelector("h1"))?t.textContent:document.title),eventTimestamp:Date.now(),blog:{blogCategory:toPlainLower(decodeHtmlEntities(webflowCMSData.blogCategory)),blogPrimaryTopic:toPlainLower(decodeHtmlEntities(webflowCMSData.blogPrimaryTopic)),blogTags:e,blogPublishDate:toPlainLower(decodeHtmlEntities(webflowCMSData.blogPublishDate)),blogModifiedDate:toPlainLower(decodeHtmlEntities(webflowCMSData.blogModifiedDate)),blogAuthor:toPlainLower(decodeHtmlEntities(webflowCMSData.blogAuthor)),blogLength:n,blogProductAds:a}};adobeDataLayer.push(t),enableLogging&&console.log(`DataLayer for ${window.location.href}:`,JSON.stringify(t,null,2))});o=document.querySelector("[data-n4-rich-text='true']");if(o){var i=document.querySelector("h1");let c=i?i.textContent.trim():document.title.split(" | ")[0]||document.title;o.addEventListener("click",e=>{e=e.target.closest("a");if(e){var o=(e.getAttribute("href")||"").trim();if(o){var n=e.textContent.trim()||e.getAttribute("aria-label")||"",a=toPlainLower(n.replace(/\n+/g," ").replace(/\s+/g," ").trim()),i=o.startsWith("tel:"),r=o.startsWith("mailto:"),l=/^https?:\/\//i.test(o)&&!o.includes(location.hostname),i=i||r||l;let t="cta";r=e.parentElement,l=(r&&r.textContent.trim().toLowerCase().startsWith("read:")?t="primary cta":n.trim()&&(t="secondary cta"),toPlainLower(c)),e={event:"click",componentName:"content block text",componentTitle:l,linkHref:o,isExternalLink:i,linkAction:"link",linkText:a,linkType:t,eventTimestamp:Date.now()};adobeDataLayer.push(e),enableLogging&&console.log(`DataLayer for ${window.location.href}:`,JSON.stringify(e,null,2))}}})}});