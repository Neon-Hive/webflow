function combineItems(){document.querySelectorAll("[n4-combine-target]").forEach(i=>{var l=i.getAttribute("n4-combine-target");let s=Number.parseInt(i.getAttribute("n4-combine-max")||"999",10);var r=document.querySelectorAll(`[n4-combine-source="${l}"]`);if(0!==r.length){var u=Array.from(i.querySelectorAll(".w-dyn-item")).map(e=>e.cloneNode(!0));let t=[];r.forEach(e=>{Array.from(e.querySelectorAll(".w-dyn-item")).forEach(e=>{t.push(e.cloneNode(!0))})});r=[...u,...t];let n=[],o=new Set,a=(r.forEach(e=>{var t=e.querySelector("a"),t=t?t.getAttribute("href"):null;t&&o.has(t)||(t&&o.add(t),n.push(e))}),i._allCombinedItems=n,i.querySelector(".w-dyn-items")||i);a.innerHTML="";u=n.slice(0,s);u.forEach(e=>{a.appendChild(e.cloneNode(!0))});let e=document.querySelector(`[n4-combine-pagination="${l}"]`);console.log(`Pagination check for "${l}": uniqueItems=${n.length}, maxItems=${s}, paginationWrapper=`+!!e),e?((r=()=>{console.log(`Checking pagination: uniqueItems.length=${n.length}, maxItems=${s}, shouldShow=`+(n.length>s)),n.length>s?(console.log("Showing pagination"),setupPagination(i,n,s,e),e.style.display=""):(console.log("Hiding pagination"),e.innerHTML="",e.style.display="none")})(),setTimeout(r,2e3)):console.warn(`Pagination wrapper not found for "${l}"`),console.log(`Combined ${u.length} items into target "${l}" (${n.length} total, max: ${s})`)}})}function setupPagination(e,t,n,o){var a=Math.ceil(t.length/n);e._paginationData={allItems:t,itemsPerPage:n,totalPages:a,currentPage:1,paginationWrapper:o},updatePaginationButtons(e,1,a)}function updatePaginationButtons(o,a,e){let i=o._paginationData.paginationWrapper;e=getPagesToShow(a,e);i.innerHTML="",e.forEach((t,e)=>{var n;"dots"===t?((n=document.createElement("div")).setAttribute("n4-load","page-dots"),n.className="g_pagination_btn_number",n.textContent="...",i.appendChild(n)):((n=document.createElement("a")).setAttribute("n4-load","page-button"),n.href="#",n.className="g_pagination_btn_number w-inline-block",t===a&&(n.classList.add("w--current"),n.setAttribute("aria-current","page")),n.textContent=t,n.addEventListener("click",e=>{e.preventDefault(),showPage(o,t)}),i.appendChild(n))})}function getPagesToShow(e,t){var n=[];if(t<=maxVisible)for(let e=1;e<=t;e++)n.push(e);else if(n.push(1),e<=3){for(let e=2;e<=4;e++)n.push(e);n.push("dots"),n.push(t)}else if(t-2<=e){n.push("dots");for(let e=t-3;e<=t;e++)n.push(e)}else n.push("dots"),n.push(e-1),n.push(e),n.push(e+1),n.push("dots"),n.push(t);return n}function showPage(e,t){var{allItems:n,itemsPerPage:o,totalPages:a}=e._paginationData,i=(t-1)*o,n=n.slice(i,i+o);let l=e.querySelector(".w-dyn-items")||e;l.innerHTML="",n.forEach(e=>{l.appendChild(e.cloneNode(!0))}),e._paginationData.currentPage=t,updatePaginationButtons(e,t,a)}window.fsAttributes=window.fsAttributes||[],window.fsAttributes.push(["cmsload",e=>{console.log("cmsload successfully loaded!"),e.forEach(e=>{e.on("loaded",()=>{combineItems()})}),setTimeout(()=>{combineItems()},100)}]);