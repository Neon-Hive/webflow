function combineItems(){document.querySelectorAll("[n4-combine-target]").forEach(i=>{var r=i.getAttribute("n4-combine-target");let s=Number.parseInt(i.getAttribute("n4-combine-max")||"999",10);var l=document.querySelectorAll(`[n4-combine-source="${r}"]`);if(0!==l.length){var u=Array.from(i.querySelectorAll(".w-dyn-item")).map(e=>e.cloneNode(!0));let t=[];l.forEach(e=>{Array.from(e.querySelectorAll(".w-dyn-item")).forEach(e=>{t.push(e.cloneNode(!0))})});l=[...u,...t];let n=[],a=new Set,o=(l.forEach(e=>{var t=e.querySelector("a"),t=t?t.getAttribute("href"):null;t&&a.has(t)||(t&&a.add(t),n.push(e))}),i._allCombinedItems=n,i.querySelector(".w-dyn-items")||i);o.innerHTML="";u=n.slice(0,s);u.forEach(e=>{o.appendChild(e.cloneNode(!0))});let e=document.querySelector(`[n4-combine-pagination="${r}"]`);e&&((l=()=>{n.length>s?(setupPagination(i,n,s,e),e.style.display=""):(e.innerHTML="",e.style.display="none")})(),setTimeout(l,3e3)),console.log(`Combined ${u.length} items into target "${r}" (${n.length} total, max: ${s})`)}})}function setupPagination(e,t,n,a){var o=Math.ceil(t.length/n);e._paginationData={allItems:t,itemsPerPage:n,totalPages:o,currentPage:1,paginationWrapper:a},updatePaginationButtons(e,1,o)}function updatePaginationButtons(a,o,e){let i=a._paginationData.paginationWrapper;e=getPagesToShow(o,e);i.innerHTML="",e.forEach((t,e)=>{var n;"dots"===t?((n=document.createElement("div")).setAttribute("n4-load","page-dots"),n.className="g_pagination_btn_number",n.textContent="...",i.appendChild(n)):((n=document.createElement("a")).setAttribute("n4-load","page-button"),n.href="#",n.className="g_pagination_btn_number w-inline-block",t===o&&(n.classList.add("w--current"),n.setAttribute("aria-current","page")),n.textContent=t,n.addEventListener("click",e=>{e.preventDefault(),showPage(a,t)}),i.appendChild(n))})}function getPagesToShow(e,t){var n=[];if(t<=maxVisible)for(let e=1;e<=t;e++)n.push(e);else if(n.push(1),e<=3){for(let e=2;e<=4;e++)n.push(e);n.push("dots"),n.push(t)}else if(t-2<=e){n.push("dots");for(let e=t-3;e<=t;e++)n.push(e)}else n.push("dots"),n.push(e-1),n.push(e),n.push(e+1),n.push("dots"),n.push(t);return n}function showPage(e,t){var{allItems:n,itemsPerPage:a,totalPages:o}=e._paginationData,i=(t-1)*a,n=n.slice(i,i+a);let r=e.querySelector(".w-dyn-items")||e;r.innerHTML="",n.forEach(e=>{r.appendChild(e.cloneNode(!0))}),e._paginationData.currentPage=t,updatePaginationButtons(e,t,o)}window.fsAttributes=window.fsAttributes||[],window.fsAttributes.push(["cmsload",e=>{console.log("cmsload successfully loaded!"),e.forEach(e=>{e.on("loaded",()=>{combineItems()})}),setTimeout(()=>{combineItems()},100)}]);