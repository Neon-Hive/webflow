function cleanupScrollTrigger(){providerScrollTriggers.forEach(e=>{e&&e.kill&&e.kill()}),providerScrollTriggers.length=0;var e=document.querySelector("[data-cta-list]");e&&(e.querySelectorAll("[data-cta-type='cta'], [data-cta-type='provider-list']").forEach(e=>{e.style.position="",e.style.left="",e.style.right="",e.style.top="",e.style.zIndex=""}),e.style.position="")}function handleRichTextColumns(){var r=document.querySelector("[data-n4-rich-text='true']");if(r){var i,n=r.innerHTML,o=/<p>\{\{column-start\}\}<\/p>([\s\S]*?)<p>\{\{column-end\}\}<\/p>/g,a=[];let e=o.lastIndex=0;for(;null!==(i=o.exec(n));)i.index>e&&a.push({type:"regular",content:n.slice(e,i.index)}),a.push({type:"column",content:i[1].trim()}),e=o.lastIndex;e<n.length&&a.push({type:"regular",content:n.slice(e)});let t="",l=[];a.forEach(e=>{"column"===e.type?l.push(`<div class="richtext-col">${e.content}</div>`):0<e.content.replace(/<p>(\s|&nbsp;|&zwj;|<br\s*\/?>)*<\/p>/gi,"").replace(/<br\s*\/?>/gi,"").replace(/&nbsp;/gi,"").replace(/&zwj;/gi,"").replace(/\s+/g,"").length&&(l.length&&(t+=`<div class="richtext-grid">${l.join("")}</div>`,l=[]),t+=e.content)}),l.length&&(t+=`<div class="richtext-grid">${l.join("")}</div>`),r.innerHTML=t}}function handleCtaBlocks(){(window.innerWidth<=991?showCtaBlocks:hideCtaBlocks)()}function showCtaBlocks(){let i=Array.from(document.querySelectorAll("[data-cta-type='cta']")),n=document.querySelector("[data-cta-type='provider-list']");document.querySelectorAll("p").forEach(e=>{var t,l,r=e.textContent.trim();"{{cta-block}}"===r&&(t=i.find(e=>!e.hasAttribute("data-mobile-cloned")))&&((l=t.cloneNode(!0)).classList.add("is-mobile-cta"),l.removeAttribute("data-cta-type"),l.style.position="",l.style.left="",l.style.right="",l.style.top="",l.style.zIndex="",e.parentNode.insertBefore(l,e.nextSibling),t.setAttribute("data-mobile-cloned","true")),"{{providers}}"===r&&n&&!n.hasAttribute("data-mobile-cloned")&&((l=n.cloneNode(!0)).classList.add("is-mobile-cta"),l.removeAttribute("data-cta-type"),l.style.position="",l.style.left="",l.style.right="",l.style.top="",l.style.zIndex="",e.parentNode.insertBefore(l,e.nextSibling),n.setAttribute("data-mobile-cloned","true"))})}function hideCtaBlocks(){document.querySelectorAll(".is-mobile-cta").forEach(e=>{e.remove()}),document.querySelectorAll("[data-mobile-cloned]").forEach(e=>{e.removeAttribute("data-mobile-cloned")}),document.querySelectorAll("p").forEach(e=>{var t=e.textContent.trim();"{{cta-block}}"!==t&&"{{providers}}"!==t||(e.style.visibility="hidden",e.style.marginBottom="-2rem")})}document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector("[data-n4-rich-text='true']")){handleRichTextColumns(),handleCtaBlocks();let t=window.innerWidth<=991,l=!1;991<window.innerWidth&&(gsap.registerPlugin(ScrollTrigger),initializeCtaScrollTrigger(),l=!0);let r;window.addEventListener("resize",()=>{var e=window.innerWidth<=991;clearTimeout(r),e!==t&&(t=e,handleCtaBlocks()),e?l&&(cleanupScrollTrigger(),l=!1):r=setTimeout(()=>{l&&cleanupScrollTrigger(),hideCtaBlocks(),gsap.registerPlugin(ScrollTrigger),initializeCtaScrollTrigger(),l=!0},100),handleRichTextColumns()})}});let providerScrollTriggers=[];function initializeCtaScrollTrigger(){let t=document.querySelector("[data-cta-list]");if(t){var e=Array.from(document.querySelectorAll("[data-cta-type='cta']")),l=document.querySelector("[data-cta-type='provider-list']");let r=[],a=(e.forEach(e=>{r.push({element:e,type:"cta",marker:null,height:280})}),l&&r.push({element:l,type:"provider-list",marker:null,height:null}),document.querySelectorAll("p").forEach(e=>{var t,l=e.textContent.trim();"{{cta-block}}"===l&&(t=r.find(e=>"cta"===e.type&&!e.marker))&&(t.marker=e),"{{providers}}"===l&&(t=r.find(e=>"provider-list"===e.type&&!e.marker))&&(t.marker=e)}),r.filter(e=>e.marker));if(a.sort((e,t)=>e.marker.getBoundingClientRect().top+window.pageYOffset-(t.marker.getBoundingClientRect().top+window.pageYOffset)),0!==a.length){a.forEach(e=>{t.appendChild(e.element)}),a.forEach((e,t)=>{e.element.style.position="absolute",e.element.style.left="0",e.element.style.right="0",e.element.style.zIndex=a.length-t}),setTimeout(()=>{a.forEach(e=>{"provider-list"===e.type&&(e.height=e.element.offsetHeight)}),i()},50),window.currentUpdateFunction=i;let e=!1;function i(){let n=window.pageYOffset||document.documentElement.scrollTop;let o=t.getBoundingClientRect().top+n;a.forEach((e,t)=>{var l,r,i=e.marker;i&&(l=(i=i.getBoundingClientRect().top+n)-o,r=e.height||e.element.offsetHeight,n+56>=i?(i=a[t+1])&&i.marker&&(t=i.marker.getBoundingClientRect().top+n)-(n+56)<=r+32?(i=t-o,e.element.style.position="absolute",e.element.style.top=i-r-32+"px"):(e.element.style.position="sticky",e.element.style.top="56px"):(e.element.style.position="absolute",e.element.style.top=l+"px"))})}function n(){e||(requestAnimationFrame(()=>{i(),e=!1}),e=!0)}window.addEventListener("scroll",n),providerScrollTriggers.push({kill:()=>{window.removeEventListener("scroll",n),window.currentUpdateFunction=null,a.forEach(e=>{e.element.style.position="",e.element.style.left="",e.element.style.right="",e.element.style.top="",e.element.style.zIndex=""}),t.style.position=""}})}}}