function initAdvancedFormValidation(){document.querySelectorAll("[data-form-validate]").forEach(a=>{let r=(new Date).getTime();var i=a.querySelector("form");if(i){let e=a.querySelector("[form-recaptcha]");if(e){a.addEventListener("focusin",function(){"block"!==e.style.display&&(e.style.display="block")});let t=i.querySelectorAll("[data-validate]");a=i.querySelector("[data-submit]");if(a){let e=a.querySelector('button[type="submit"]');function n(){return(new Date).getTime()-r<5e3}function l(){let r=!0,i=null;return t.forEach(function(t){var e=t.querySelector("input, textarea, select"),a=t.querySelector("[data-radiocheck-group]");(e||a)&&(e&&(e.__validationStarted=!0),a&&(a.__validationStarted=!0,a.querySelectorAll('input[type="radio"], input[type="checkbox"]').forEach(function(t){t.__validationStarted=!0})),s(t),o(t)||(r=!1,i=i||e||a.querySelector("input")))}),!r&&i&&i.focus(),r}function o(e){var a=e.querySelector("[data-radiocheck-group]");if(a)return r=a.querySelectorAll('input[type="radio"], input[type="checkbox"]'),n=a.querySelectorAll("input:checked"),i=parseInt(a.getAttribute("min"))||1,a=parseInt(a.getAttribute("max"))||r.length,n=n.length,"radio"===r[0].type?1<=n:1===r.length?r[0].checked:i<=n&&n<=a;{var r=e.querySelector("input, textarea, select");if(!r)return!1;let t=!0;var i=parseInt(r.getAttribute("min"))||0,n=parseInt(r.getAttribute("max"))||1/0,a=r.value.trim(),e=a.length;return"select"===r.tagName.toLowerCase()?""!==a&&"disabled"!==a&&"null"!==a&&"false"!==a||(t=!1):"email"===r.type?t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a):(r.hasAttribute("min")&&e<i&&(t=!1),r.hasAttribute("max")&&n<e&&(t=!1)),t}}function s(e){var a=e.querySelector("[data-radiocheck-group]"),r=e.querySelector("input, textarea, select");let t=e.querySelector(".form1_error_text");if(t||((t=document.createElement("div")).className="form1_error_text",t.setAttribute("aria-live","polite"),e.appendChild(t)),!e.dataset.errorId){let t="field";a?t=a.getAttribute("data-name")||a.querySelector("input")?.id||"group":r&&(t=r.getAttribute("id")||r.getAttribute("name")||"field");var i=t.toLowerCase().replace(/\s+/g,"-");e.dataset.errorId="err-"+i}t.id=e.dataset.errorId;i=e.dataset.validateMsg||"This field is required.";a?(a=a.querySelectorAll('input[type="radio"], input[type="checkbox"]'),o(e)?(e.classList.add("is-success"),e.classList.remove("is-error"),t.textContent="",a.forEach(t=>t.setAttribute("aria-invalid","false"))):Array.from(a).some(t=>t.__validationStarted)?(e.classList.add("is-error"),e.classList.remove("is-success"),t.textContent=i,a.forEach(t=>t.setAttribute("aria-invalid","true"))):(e.classList.remove("is-error"),e.classList.remove("is-success"),t.textContent="",a.forEach(t=>t.setAttribute("aria-invalid","false"))),e.setAttribute("aria-describedby",t.id)):r&&(o(e)?(e.classList.add("is-success"),e.classList.remove("is-error"),t.textContent="",r.setAttribute("aria-invalid","false")):r.__validationStarted?(e.classList.add("is-error"),e.classList.remove("is-success"),t.textContent=i,r.setAttribute("aria-invalid","true")):(e.classList.remove("is-error"),e.classList.remove("is-success"),t.textContent="",r.setAttribute("aria-invalid","false")),e.setAttribute("aria-describedby",t.id))}e&&(t.forEach(function(t){t=t.querySelector("select");t&&t.querySelectorAll("option").forEach(function(t){""!==t.value&&"disabled"!==t.value&&"null"!==t.value&&"false"!==t.value||t.setAttribute("disabled","disabled")})}),t.forEach(function(r){let i=r.querySelector("input, textarea, select"),a=r.querySelector("[data-radiocheck-group]");a?a.querySelectorAll('input[type="radio"], input[type="checkbox"]').forEach(function(e){e.__validationStarted=!1,e.addEventListener("change",function(){requestAnimationFrame(function(){var t;e.__validationStarted||(t=a.querySelectorAll("input:checked").length,(parseInt(a.getAttribute("min"))||1)<=t&&(e.__validationStarted=!0)),e.__validationStarted&&s(r)})}),e.addEventListener("blur",function(){e.__validationStarted=!0,s(r)})}):i&&(i.__validationStarted=!1,"select"===i.tagName.toLowerCase()?i.addEventListener("change",function(){i.__validationStarted=!0,s(r)}):(i.addEventListener("input",function(){var t=i.value.trim().length,e=parseInt(i.getAttribute("min"))||0,a=parseInt(i.getAttribute("max"))||1/0;i.__validationStarted||("email"===i.type?o(r)&&(i.__validationStarted=!0):(i.hasAttribute("min")&&e<=t||i.hasAttribute("max")&&t<=a)&&(i.__validationStarted=!0)),i.__validationStarted&&s(r)}),i.addEventListener("blur",function(){i.__validationStarted=!0,s(r)})))}),a.addEventListener("click",function(){l()&&(n()?alert("Form submitted too quickly. Please try again."):e.click())}),i.addEventListener("keydown",function(t){"Enter"===t.key&&"TEXTAREA"!==t.target.tagName&&(t.preventDefault(),l())&&(n()?alert("Form submitted too quickly. Please try again."):e.click())}))}}}})}document.addEventListener("DOMContentLoaded",()=>{initAdvancedFormValidation()});